plugins {
    id 'io.freefair.lombok' version '8.14'
    id "com.gradleup.shadow" version "8.3.8" apply false
    id 'application'
    id 'java-library'

    id 'org.beryx.runtime' version '1.13.1' apply false

    id 'org.openjfx.javafxplugin' version '0.1.0'
}

wrapper {
    gradleVersion = '8.14.3'
}

group = 'RSPSi Editor'
version = '1.17.0'

allprojects {
    repositories {
        mavenCentral()
    }
}

subprojects {

    apply plugin: 'java-library'
    apply plugin: 'io.freefair.lombok'

    sourceCompatibility = JavaVersion.VERSION_21
    targetCompatibility = JavaVersion.VERSION_21

    dependencies {
        api group: 'ch.qos.logback', name: 'logback-classic', version: '1.5.18'
        api group: 'org.checkerframework', name: 'checker-qual', version: '3.49.5'

        api group: 'com.google.guava', name: 'guava', version: '33.4.8-jre'
        api group: 'com.google.code.gson', name: 'gson', version: '2.13.1'

        api group: 'jakarta.servlet', name: 'jakarta.servlet-api', version: '6.1.0'
    }

    lombok {
        version = "1.18.38"
    }

    compileJava {
        options.fork = true
        options.incremental = true
    }

    apply plugin: 'org.openjfx.javafxplugin'
    javafx {
        version = "17"
        modules = ['javafx.base', 'javafx.fxml', 'javafx.graphics', 'javafx.controls', 'javafx.media', 'javafx.swing']
    }

}
